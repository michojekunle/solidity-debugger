<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-size="24" font-weight="bold" fill="#1e293b">VS Code Gas Optimization Extension Flow</text>
  
  <!-- Developer Writing Code Section -->
  <rect x="50" y="60" width="300" height="160" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="200" y="85" text-anchor="middle" font-size="16" font-weight="bold" fill="#1e40af">1. Developer Writes Code</text>
  
  <!-- Code editor mockup -->
  <rect x="70" y="100" width="260" height="80" rx="5" fill="#1f2937"/>
  <text x="80" y="120" font-size="12" fill="#10b981">function</text>
  <text x="130" y="120" font-size="12" fill="#fbbf24">transfer</text>
  <text x="180" y="120" font-size="12" fill="#f3f4f6">(uint amount) {</text>
  <text x="80" y="140" font-size="12" fill="#f3f4f6">  balance[msg.sender] -= amount;</text>
  <text x="80" y="160" font-size="12" fill="#f3f4f6">  balance[to] += amount;</text>
  
  <!-- Red squiggle under problematic code -->
  <line x1="80" y1="165" x2="280" y2="165" stroke="#ef4444" stroke-width="2" stroke-dasharray="2,2"/>
  
  <!-- Arrow to Analysis Engine -->
  <path d="M350 140 L430 140" stroke="#6b7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="390" y="135" text-anchor="middle" font-size="12" fill="#6b7280">500ms delay</text>
  
  <!-- Analysis Engine Section -->
  <rect x="450" y="60" width="300" height="160" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="600" y="85" text-anchor="middle" font-size="16" font-weight="bold" fill="#15803d">2. Real-time Analysis Engine</text>
  
  <!-- Three analysis types -->
  <rect x="470" y="100" width="80" height="40" rx="5" fill="#fef3c7" stroke="#f59e0b"/>
  <text x="510" y="115" text-anchor="middle" font-size="10" fill="#92400e">Static</text>
  <text x="510" y="128" text-anchor="middle" font-size="10" fill="#92400e">Analysis</text>
  
  <rect x="560" y="100" width="80" height="40" rx="5" fill="#fed7d7" stroke="#f56565"/>
  <text x="600" y="115" text-anchor="middle" font-size="10" fill="#c53030">Dynamic</text>
  <text x="600" y="128" text-anchor="middle" font-size="10" fill="#c53030">Runtime</text>
  
  <rect x="650" y="100" width="80" height="40" rx="5" fill="#e0e7ff" stroke="#6366f1"/>
  <text x="690" y="115" text-anchor="middle" font-size="10" fill="#4338ca">Transaction</text>
  <text x="690" y="128" text-anchor="middle" font-size="10" fill="#4338ca">Flow</text>
  
  <!-- Gas calculation -->
  <text x="600" y="165" text-anchor="middle" font-size="12" fill="#15803d">â›½ Gas: 2,300 â†’ 800 (-65%)</text>
  <text x="600" y="180" text-anchor="middle" font-size="11" fill="#6b7280">Issue: Redundant SLOAD operations</text>
  <text x="600" y="195" text-anchor="middle" font-size="11" fill="#6b7280">Suggestion: Cache storage variable</text>
  
  <!-- Arrow to UI Feedback -->
  <path d="M600 220 L600 280" stroke="#6b7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- UI Feedback Section -->
  <rect x="450" y="300" width="300" height="180" rx="10" fill="#fef7ff" stroke="#a855f7" stroke-width="2"/>
  <text x="600" y="325" text-anchor="middle" font-size="16" font-weight="bold" fill="#7c3aed">3. Smart UI Feedback</text>
  
  <!-- Hover card -->
  <rect x="470" y="340" width="130" height="80" rx="5" fill="#ffffff" stroke="#d1d5db"/>
  <text x="535" y="355" text-anchor="middle" font-size="11" font-weight="bold" fill="#1f2937">Hover Card</text>
  <text x="480" y="375" font-size="9" fill="#ef4444">âš ï¸ Gas Impact: -65%</text>
  <text x="480" y="390" font-size="9" fill="#6b7280">Cache storage var</text>
  <rect x="480" y="400" width="45" height="15" rx="3" fill="#3b82f6"/>
  <text x="502" y="410" text-anchor="middle" font-size="8" fill="white">Quick Fix</text>
  
  <!-- Side panel -->
  <rect x="610" y="340" width="130" height="80" rx="5" fill="#ffffff" stroke="#d1d5db"/>
  <text x="675" y="355" text-anchor="middle" font-size="11" font-weight="bold" fill="#1f2937">Side Panel</text>
  <text x="620" y="375" font-size="9" fill="#10b981">âœ“ 3 optimizations found</text>
  <text x="620" y="390" font-size="9" fill="#6b7280">ğŸ“Š Gas breakdown</text>
  <rect x="620" y="400" width="50" height="15" rx="3" fill="#10b981"/>
  <text x="645" y="410" text-anchor="middle" font-size="8" fill="white">Apply All</text>
  
  <!-- Inline decorations -->
  <text x="600" y="445" text-anchor="middle" font-size="12" fill="#7c3aed">Inline Decorations:</text>
  <circle cx="520" cy="460" r="8" fill="#ef4444"/>
  <text x="535" cy="465" font-size="10" fill="#1f2937">Critical</text>
  <circle cx="600" cy="460" r="8" fill="#f59e0b"/>
  <text x="615" cy="465" font-size="10" fill="#1f2937">Moderate</text>
  <circle cx="680" cy="460" r="8" fill="#3b82f6"/>
  <text x="695" cy="465" font-size="10" fill="#1f2937">Info</text>
  
  <!-- Arrow to Developer Actions -->
  <path d="M600 480 L600 540" stroke="#6b7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Developer Actions Section -->
  <rect x="450" y="560" width="300" height="140" rx="10" fill="#ecfdf5" stroke="#10b981" stroke-width="2"/>
  <text x="600" y="585" text-anchor="middle" font-size="16" font-weight="bold" fill="#059669">4. Developer Actions</text>
  
  <!-- Action buttons -->
  <rect x="470" y="600" width="80" height="30" rx="5" fill="#3b82f6" stroke="#2563eb"/>
  <text x="510" y="620" text-anchor="middle" font-size="11" fill="white">Apply Fix</text>
  
  <rect x="560" y="600" width="80" height="30" rx="5" fill="#f59e0b" stroke="#d97706"/>
  <text x="600" y="620" text-anchor="middle" font-size="11" fill="white">Explain Why</text>
  
  <rect x="650" y="600" width="80" height="30" rx="5" fill="#10b981" stroke="#059669"/>
  <text x="690" y="620" text-anchor="middle" font-size="11" fill="white">Batch Fix</text>
  
  <!-- Workflow modes -->
  <text x="470" y="655" font-size="11" fill="#059669">ğŸ“ Development Mode</text>
  <text x="470" y="670" font-size="11" fill="#059669">ğŸš€ Pre-deployment Review</text>
  <text x="470" y="685" font-size="11" fill="#059669">ğŸ“ Learning Mode</text>
  
  <!-- Integration Points -->
  <rect x="50" y="300" width="280" height="140" rx="10" fill="#f1f5f9" stroke="#64748b" stroke-width="2"/>
  <text x="190" y="325" text-anchor="middle" font-size="16" font-weight="bold" fill="#475569">Integration Points</text>
  
  <text x="70" y="350" font-size="12" fill="#475569">ğŸ”§ Hardhat/Truffle Integration</text>
  <text x="70" y="370" font-size="12" fill="#475569">ğŸŒ Mainnet Fork Simulation</text>
  <text x="70" y="390" font-size="12" fill="#475569">ğŸ“Š Gas Reporter Integration</text>
  <text x="70" y="410" font-size="12" fill="#475569">ğŸ¯ EVM Trace Analysis</text>
  
  <!-- Arrow from Integration to Analysis -->
  <path d="M330 370 L450 140" stroke="#6b7280" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  
  <!-- Optimization Categories -->
  <rect x="850" y="60" width="300" height="400" rx="10" fill="#fffbeb" stroke="#f59e0b" stroke-width="2"/>
  <text x="1000" y="85" text-anchor="middle" font-size="16" font-weight="bold" fill="#92400e">Optimization Categories</text>
  
  <!-- Critical -->
  <rect x="870" y="110" width="260" height="80" rx="5" fill="#fef2f2" stroke="#ef4444"/>
  <text x="1000" y="130" text-anchor="middle" font-size="14" font-weight="bold" fill="#dc2626">ğŸš¨ Critical Issues</text>
  <text x="880" y="150" font-size="11" fill="#7f1d1d">â€¢ Storage operations in loops</text>
  <text x="880" y="165" font-size="11" fill="#7f1d1d">â€¢ Redundant SLOAD operations</text>
  <text x="880" y="180" font-size="11" fill="#7f1d1d">â€¢ Inefficient data types</text>
  
  <!-- Moderate -->
  <rect x="870" y="210" width="260" height="80" rx="5" fill="#fffbeb" stroke="#f59e0b"/>
  <text x="1000" y="230" text-anchor="middle" font-size="14" font-weight="bold" fill="#d97706">âš ï¸ Moderate Issues</text>
  <text x="880" y="250" font-size="11" fill="#92400e">â€¢ Struct packing opportunities</text>
  <text x="880" y="265" font-size="11" fill="#92400e">â€¢ Public vs External functions</text>
  <text x="880" y="280" font-size="11" fill="#92400e">â€¢ Event vs Storage trade-offs</text>
  
  <!-- Advanced -->
  <rect x="870" y="310" width="260" height="80" rx="5" fill="#eff6ff" stroke="#3b82f6"/>
  <text x="1000" y="330" text-anchor="middle" font-size="14" font-weight="bold" fill="#1d4ed8">ğŸ’¡ Advanced Optimizations</text>
  <text x="880" y="350" font-size="11" fill="#1e40af">â€¢ Assembly optimization hints</text>
  <text x="880" y="365" font-size="11" fill="#1e40af">â€¢ Bit manipulation patterns</text>
  <text x="880" y="380" font-size="11" fill="#1e40af">â€¢ Custom errors vs strings</text>
  
  <!-- Workflow Types -->
  <text x="1000" y="420" text-anchor="middle" font-size="14" font-weight="bold" fill="#92400e">Developer Workflows</text>
  <text x="880" y="440" font-size="11" fill="#6b7280">1. Real-time coding feedback</text>
  <text x="880" y="455" font-size="11" fill="#6b7280">2. Pre-deployment optimization</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6b7280"/>
    </marker>
  </defs>
  
  <!-- Connection lines -->
  <path d="M750 140 L850 200" stroke="#6b7280" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  
  <!-- Feedback Loop -->
  <path d="M50 400 Q25 450 50 500 Q100 520 200 500 Q300 480 350 450 Q400 420 450 400" stroke="#10b981" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
  <text x="200" y="530" text-anchor="middle" font-size="12" fill="#10b981" font-weight="bold">Continuous Feedback Loop</text>
</svg>